<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="Chapter_00">

 <title>Chapter 0: Author Information</title>

 <section xml:id="Pretext">

  <title><pretext/></title>

  <subsection xml:id="Overview">

   <title>Overview</title>


   <p>by William Haynes @weh</p>
   <p>We will be authoring the Engineering Statics book using <url href="https://pretextbook.org">PreTeXt</url>, storing the text, images and interactives on at <url href="github.com">GitHub</url> using <url href="https://git-scm.com">git</url>, and converting everything into a website and a pdf book using <url href="https://www.w3.org/Style/XSL/">XSLT</url>. Finally we will post everything it on our <url href="https://EngineeringStatics.org">website</url> for students to use.</p>
   <p><pretext/> consists of two pieces, the XML markup and the XSLT processor.</p>
   <p>The source documents for the book are text files marked up using XML tags, similar to the way HTML documents are marked up, but the tags are specific to the requiements of academic textbooks. We will be using the extension .ptx to indicate <pretext/> files. The <pretext/> tags are formally defined by an <url href="https://pretextbook.org/doc/schema-litprog/pretext.pdf">XML Schema</url>, which specifies what are legal tags and where they can be used.</p>
   <p>Most likely you will want to see what the final result of your writing looks like. In order to see it in its final version, you can compile it with XSLT to create a local copy of the final version</p>
  </subsection>
  <subsection xml:id="Workflow">

   <title>Workflow</title>


   <p>The main components necessary to make this all work are: </p>
   <p><ul>
     <li>Local copies of the <pretext/> and Engineering Statics files</li>
     <li>An XML aware text editor to edit the <pretext/> source.</li>
     <li>The command line program git and a GitHub account.</li>
     <li>An XSLT processor to convert the source text to html</li>
    </ul></p>
   <p>When you have these installed and working on your computer, you will have everything you need to produce a local copy of the entire book. That way, you can edit something and then test it to see what it will look like in its final form. When you are satisfied with your work, you will use git to send it to the GitHub, where Dan or Will will integrate it into its proper place in the book, publish and upload to the website. </p>
   <p>If this sounds daunting to you, don't worry! <em>You don't have to do any of this while you create your first draft</em>. Please just write! Use any tools you are comfortable with, and I (@weh) will do the initial markup to <pretext/> for you. However, marking up the the draft is a one way trip. After that, any further edits and improvements must be made on the <pretext/> source. Don't spend any effort trying to make your draft look pretty because all styling will be handled by <pretext/>.</p>
  </subsection>
  <subsection xml:id="Gettingsetup">

   <title>Getting set up</title>


   <p>The <url href="https://pretextbook.org">PreTeXt</url> website has plenty of information on how to get started with <pretext/>. You will find quickstart instructions on the homepage which may be all you need as well as more detailed instuctions and walkthrough videos.</p>
   <p><url href="https://pretextbook.org/doc/pnw/html/novices.html">PreTeXt for Novices Using Windows</url> has a detailed description of how to install the necessary tools.</p>
   <p><url href="https://pretextbook.org/doc/guide/html/">Pretext Guide</url> is the place to learn about <pretext/> and get started.</p>
   <p><url href="https://pretextbook.org/gfa/html/">Git for Authors</url> describes how to use git to add your content and corrections to the official repository.</p>
  </subsection>
  <subsection xml:id="Pretexttags">

   <title><pretext/> tags</title>


   <p>Here is a list of commonly used <pretext/> tags. Their purposes are mostly self evident. </p>
   <p>For details on the use of tags see Chapter 3 of the <url href="https://pretextbook.org/doc/author-guide/html/overview.html">Author's Guide</url>.</p>
   <p><ul>
     <li> book</li>
     <li> title</li>
     <li> chapter</li>
     <li> section</li>
     <li> subsection</li>
     <li> subsubsection</li>
     <li> introduction</li>
     <li> conclusion</li>
     <li> objectives</li>
     <li> example</li>
     <li> exercises</li>
     <li> exercise</li>
     <li> hint</li>
     <li> solution</li>
     <li> aside</li>
     <li> note</li>
    </ul></p>
   <p><ul>
     <li> p -- basic paragraph, like html</li>
     <li> paragraph -- a paragraph with a run-in title</li>
     <li> em -- emphasis, renders as italics</li>
     <li> figure -- a numbered figurs</li>
     <li> image -- contains filename of associated image file</li>
    </ul></p>
   <p>Mathematics is described in the <url href="https://pretextbook.org/doc/author-guide/html/overview-math.html">Author's Guide</url></p>
   <p><ul>
     <li><tag>m</tag> -- inline math, uses LaTeX syntax, rendered with MathJax .</li>
     <li><tag>me</tag> -- single equation, centered</li>
     <li><tag>md</tag> -- display math, multiline </li>
     <li><tag>men</tag> -- numbered equation</li>
     <li><tag>mdn</tag> -- numbered display math</li>
    </ul></p>
   <p>The <url href="https://pretextbook.org/doc/schema/">Pretext Schema</url> describes the <pretext/> vocabulary: the legal tags and how they nest. It's formal and confusing, so you may be better off looking at the source of documents that do what you want first. Another reference is and the <url href="https://pretextbook.org/doc/schema-litprog/pretext.pdf">Schema documentation</url> which describes the schema </p>
  </subsection>
  <subsection xml:id="Customizations">

   <title>Customizations</title>


   <p>I'll try to list all customizations any non-standard <pretext/> behaviors that I have implemented here.</p>
   <p>I've defined some latex macros in docinfo.ptx so </p>
   <p>
    <c>\vec{A}</c> will produce <m>\vec{A}</m></p>
   <p>
    <c>\ihat</c> will produce <m>\ihat</m></p>
   <p>
    <c>\jhat</c> will produce <m>\jhat</m></p>
  </subsection>
  <subsection xml:id="Images">

   <title>Images</title>


   <p>The preferred image types for the book for diagrams or drawings is <term>Scalable Vector Graphics</term>. This format should be used for any diagrams or drawings you make if possible. <c>SVG</c> files can be created with Inkscape, Geogebra, or other tools. My CAD program doesn't natively export SVG files, but I can "print as pdf" and convert that file to an editable .svg file using the command line tool <c>pdf2svg</c>. Any diagram you create should have an 'actual' height of about 100 mm or 4 inches, or taller if necessary, but not more that 1 page tall Diagrams will get scaled down when they go into the book. On the web version, clicking on the scaled image will pop up a larger image.</p>
   <p>One huge advantages of SVG files is that they any text including <latex/> in the diagram gets properly rendered when it is placed in the book, so that the diagram text appears in the same font and size as the rest of the book. Otherwise, if you have text elements in a diagram, they will get scaled along with the digram and may become unreadable at small sizes.</p>
   <p>To do this, somehow create an svg diagram, using Inkscape, cad, geogebra or another vector drawing program. For annotated photographs, create a SVG file and import the the png image, then use the SVG tools to add text and arrows, etc. </p>
   <p> When you are finished creating the svg file, open it with Inkscape and "save as pdf", and choose the option "omit text in pdf and create <latex/> file." and save this in the same directory. Two files will be created, a .pdf file with no text, and a .pdf_tex file which is a standalone <latex/> file which overlays properly rendered text on top of the .pdf image.</p>
   <p>Keep all resources used to produce each diagram together in a folder under your chapter in the /ptx/src/resources directory together. All ggb, jpg, png, svg, pdf and pdf_tex files will be copied from here to a common images folder for inclusion into the document. This way, images can be inserted by using their filename only. Since all images will be in the same folder, no path is necessary, but all filenames must be unique so avoid common names like <c>fbd.svg</c>.</p>
   <p>Other acceptable file types</p>
   <p>Use <term>Portable Document Format</term>, .pdf to include things like manufacturers spec sheets. You can use pdf for line drawing with no text</p>
   <p>Use <term>Portable Network Graphics,</term> .png in preference to .jpg for photographs.</p>
   <paragraphs>

    <title>Example</title>


    <p>Here's an example of a svg image with text rendered by latex overalaid. The composite image was saved as an svg file, then a copy was saved as a pdf file without text, along with balloon.pdf_tex which was included in the source ptx as shown.</p>
    <figure>

     <caption>Image with overlaid text.</caption>

     <image width="75%">
      <latex-image> \pdftex{balloon} </latex-image>
     </image>
    </figure>
    <p>This image was composed of three parts,</p>
    <p><ol>
      <li>The x-z plane and the three ropes were drawn in Geogebra, and a screenshot was used to capture the image as a png. For 2D drawings Geogebra can export svg or png directly.</li>
      <li>The balloon was a png image.</li>
      <li>Both were imported into a svg image in Inkscape, where the axis labels, point labels, and the height were added with the text tool. The dotted line, and the dimension arrows were drawn in using Inkscape's tools.</li>
     </ol></p>
   </paragraphs>
   <paragraphs>

    <title>More Info</title>


    <p><url href="https://castel.dev/post/lecture-notes-2/"/></p>
    <p>Multipage PDFs need all text on top layer</p>
    <p><url href="https://tex.stackexchange.com/questions/243499/sharelatex-pdf-inclusion-required-page-does-not-exist-5/350175#350175"/></p>
   </paragraphs>
  </subsection>
 </section>
 <section xml:id="Demos">

  <title>Demos</title>

  <subsection xml:id="VideoDemo">

   <title>Video Demo</title>


   <p>You can include video hosted at YouTube, or anywhere else on the internet.</p>
   <figure>

    <caption>Our fearless leader.</caption>

    <video youtube="6qeJf0pXdds" width="100%"/>
   </figure>
  </subsection>
  <subsection xml:id="SageDemo">

   <title>Sage Demo</title>


   <p>Sage is an open-source mathematics system which uses a Python-based syntax, which can be used to do complex calculation right in the browser. In the pdf version, a sample result is shown.</p>
   <p>Recall that the moment of a force about a point is the cross product of the force <m>\vec{F}</m> with the position vector <m>\vec{r}</m>.</p>
   <p><md>
     <mrow>\mathbf{M} = \mathbf{r} \times \mathbf{F}= \begin{vmatrix} \mathbf{i} \amp \mathbf{j} \amp \mathbf{k} </mrow>
     <mrow>r_x \amp r_y \amp r_z\\ F_x \amp F_y \amp F_z \end{vmatrix}</mrow>
    </md></p>
   <p>Given <m>\mathbf{r} = 4 \mathbf{i} + 5 \mathbf{j} - 2 \mathbf{k}</m> meters and <m>\mathbf{F} = 80 \mathbf{i} + 40 \mathbf{j} - 30 \mathbf{k} </m>, kN you can find the moment <m>\mathbf{M}</m> by entering the following into the Sage Cell below. When you click <c>Evaluate (Sage)</c> the components of <m>\mathbf{M}</m> will be calculated.</p>
   <sage>
    <input> r = vector([4, 5, -2]); F = vector([80, 40, -30]); r.cross_product(F) </input>
    <output> (-70, -40, -240) </output>
   </sage>
   <p>Note that you are defining <m>\mathbf{F}</m> and <m>\mathbf{r}</m>, and in the third line <c>r.cross_product(F)</c> is the expression to be evaluated. You'll have to work out the correct units for the moment yourself, however.</p>
  </subsection>
  <subsection xml:id="Numbas">

   <title>Numbas</title>


   <p>Here are some examples of Numbas problems. This is only supported in the html version.</p>
   <interactive xml:id="numbas-vector-addition" platform="numbas">
    <slate surface="numbas" source="numbas/question-39493-vector-addition-tip-to-tail-method" width="110%" height="1400px"/>
   </interactive>
   <interactive xml:id="numbas-lopping-shears" platform="numbas">
    <slate surface="numbas" source="numbas/question-44872-machine-lopping-shears" width="110%" height="1100px"/>
   </interactive>
   <interactive xml:id="numbas-method-of-sections" platform="numbas">
    <slate surface="numbas" source="numbas/question-43569-method-of-sections-pratt-truss" width="110%" height="2140px"/>
   </interactive>
  </subsection>
  <subsection xml:id="Geogebra">

   <title>Geogebra</title>


   <p>Interactive and animated geogebra diagrams may be included. In the <abbr>PDF</abbr> version they will render as a static image with a <abbr>QR</abbr> code link to the web version.</p>
   <p>Warning: Unintentional line breaks in the script will break it, and strings must be quoted with double-quotes. No underscores in xml:id.</p>
   <p>Note: to get the mbx program to work, I had to install <url href="https://github.com/sindresorhus/pageres-cli">pageres-cli</url> which required installation of <url href="https://nodejs.org/en/download/">nodejs</url>. On mac, this resulted in an installation error due to file permissions, and was resolved by installing pagres-cli this way <c>sudo npm install --global pageres-cli --unsafe-perm=true</c></p>
   <interactive xml:id="geogebra-astroid" platform="geogebra" width="100%" aspect="4:3">
    <slate xml:id="astroid" surface="geogebra" source="ggb/astroid.ggb" aspect="4:3" width="95%"> setCoordSystem(-6, 10, -6, 6); setLabelVisible("b", false); setLabelVisible("c", false); setLabelVisible("d", false); setAxisLabels(1,"r","s","t"); setGridVisible(true); evalCommand("r = Slider(1,4,0.1)"); enableShiftDragZoom(false); showResetIcon(true); </slate>
   </interactive>
   <interactive xml:id="three-d-vector-direction-theta" platform="geogebra" width="100%" aspect="3:2">
    <slate xml:id="rotate-3d-vec" surface="geogebra" source="ggb/3d-vector.ggb" aspect="3:2" width="95%"> showResetIcon(true); </slate>
    <instructions>Rotate the diagram to see the force and angles in space.</instructions>
   </interactive>
   <interactive xml:id="geogebra-shear-and-bending-moment" platform="geogebra" aspect="6:5" width="100%">
    <instructions>Try moving the large red dots to see the effect of the load on the diagrams.</instructions>
    <slate xml:id="v-m-diagram" surface="geogebra" source="ggb/shear-and-moment-Building-Blocks.ggb" aspect="6:5" width="95%"> showResetIcon(true);</slate>
   </interactive>
   <interactive xml:id="interactive-addition" platform="geogebra" aspect="3:2" width="100%">
    <slate surface="geogebra" material="sc7usntz" aspect="3:2" width="95%"> enableShiftDragZoom(true); showResetIcon(true); </slate>
    <instructions>
     <p>Type this in the input box.</p>
     <p><ol>
       <li><c>a = (2,1)</c> This creates a vector from its <m>x</m> and <m>y</m> components.</li>
       <li><c>b = (2;120°)</c>This creates a vector from its magnitude and direction. You must include the degree sign <c>°</c>; if you don't then the angle will be assumed to be in radians. Typing <c>Option–o</c> or &gt; <c>Alt–o</c> will produce a degree sign.</li>
       <li><c>r = a + b</c> This produces the resultant vector.</li>
      </ol></p>
    </instructions>
   </interactive>
   <p><ul>
     <li> In Geogebra, use a comma to separate rectangular components and a semicolon to separate magnitude and direction.</li>
     <li> Lower case variables are vectors by default, and uppercase variables produce points.</li>
     <li> You can scroll the graphing window with your mouse or zoom out or in with a scroll wheel.</li>
    </ul></p>
   <interactive xml:id="backhoe" platform="geogebra" width="100%" aspect="3:2">
    <slate xml:id="animated-backhoe" surface="geogebra" source="ggb/animated-backhoe.ggb" aspect="3:2" width="95%"> showResetIcon(true); startAnimation(); enableShiftDragZoom(false); </slate>
    <instructions>The play button controls the animation.</instructions>
   </interactive>
  </subsection>
 </section>
 <section xml:id="Scriv-PretextNotes">

  <title>Scriv-<pretext/> Notes</title>

  <subsection xml:id="Binder">

   <title>Binder</title>


   <p>The Scrivener binder is used to organize the book</p>
   <p>Nested folders become chapter &gt; section &gt; subsection &gt; subsubsection by default. The binder title becomes the division title.</p>
   <p>Single pages are styled as ptx-p and don't get a title in the output</p>
   <p>Nested pages are styled as ptx-para and get the title as a run-in title in the rendered document </p>
   <p>Chapters and sections using custom metadata xml:id will use it for @xml:id attribute.</p>
  </subsection>
  <subsection xml:id="Transformations">

   <title>Transformations</title>


   <p>Scrivener post processing applies an xslt transformation to.</p>
   <p>Changes instances of <pretext/> in any case to to <tag>pretext/</tag></p>
   <p>Convert markdown style links to <tag>url</tag>: <url href="https://weh.maritme.edu/mechanics">Course Website</url></p>
   <p>Convert two dashes to an m dash: --This sentence should start with an em dash.</p>
   <p>Strip leading bullets from ptx-ul paragraph style.</p>
   <p><ul>
     <li>one</li>
     <li>two</li>
     <li>three</li>
    </ul></p>
  </subsection>
  <subsection xml:id="Characterstyles">

   <title>Character styles</title>


   <p>code: <c>This is code style</c></p>
   <p>tag: <tag>This is tag style</tag></p>
   <p>m: <m> \sqrt{x^2 + y2}</m></p>
   <p>em: This should be <em>italic</em></p>
   <p>term: This should be a <term>term</term>.</p>
  </subsection>
  <subsection xml:id="Paragraphstyles">

   <title>Paragraph styles</title>


   <p>ptx-p: This wraps the paragraph with a <tag>p</tag> tag.</p>
   <p>no style: No p tag surrounds this paragraph.</p>
   <p>don't export: Not copied to the output</p>
   <p>ptx-md: Wraps each line with <tag>mrow</tag>, wraps group with <tag>p</tag><tag>md</tag></p>
   <p><md>
     <mrow>\Sigma F_x \amp = 0</mrow>
     <mrow>G - 6\,T_x \amp= 0G </mrow>
     <mrow>\amp= 6\,(T \cos 76°)</mrow>
     <mrow>\amp= 14.5 \text{ kN}</mrow>
    </md></p>
  </subsection>
  <subsection xml:id="Mathematics">

   <title>Mathematics</title>


   <p>This is a sentence with inline math <m>r = \sqrt{x^2+y^2}</m> using the <term>m</term> character style.</p>
   <p>This is several lines of latex styled with the <term>ptx-md</term> paragraph style</p>
   <p><md>
     <mrow>\Sigma F_x \amp = 0</mrow>
     <mrow>G - 6\,T_x \amp= 0G</mrow>
     <mrow>\amp= 6\,(T \cos 76°)</mrow>
     <mrow>\amp= 14.5 \text{ kN}</mrow>
    </md></p>
   <p>These are equation directly marked up with <tag>me</tag></p>
   <p><me>\Sigma \vec{F} = 0</me></p>
   <p><me>a = 0 \implies \begin{cases} v=0\\v=C\end{cases}</me></p>
  </subsection>
  <subsection xml:id="Images">

   <title>Images</title>


   <p>When using Vectorworks to draw diagrams, </p>
   <p><ol>
     <li>use Print as PDF to save a PDF version</li>
     <li>Crop resulting PDF with preview</li>
     <li>use pdf2svg to make a svg version alongside</li>
     <li>This needs to be cropped in inkscape with set page size to object.</li>
    </ol></p>
  </subsection>
  <subsection xml:id="Lists">

   <title>Lists</title>


   <p>ptx-ol, or ptx-ul: wraps line with with <tag>li</tag><tag>/li</tag> wraps all lines with </p>
   <p><tag>p</tag><tag>ol</tag> or <tag>p</tag><tag>ul</tag></p>
   <p>scriv2ptx strips any leading bullets you might add by formatting in Scrivener.</p>
   <p> Amphibians</p>
   <p><ul>
     <li> Frog</li>
     <li> Salamander</li>
     <li> Newt</li>
     <li> Toad</li>
     <li> Freshwater Sport Fish</li>
     <li> Walleye</li>
     <li> Bass</li>
     <li> Trout</li>
    </ul></p>
   <p><ol>
     <li>one</li>
     <li>two </li>
     <li>three</li>
    </ol></p>
  </subsection>
  <subsection xml:id="Compile">

   <title>Compile</title>


   <p>Currently, the compile script calls xsltproc to run scriv2ptx</p>
   <p>Adding this line will run the makefile, however it is currently broken when trying to create pdf_tex images</p>
   <p>; make --directory ~/ptx/statics</p>
  </subsection>
 </section>
</chapter>
